{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/introduction.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block content %}
<div class="container d-flex flex-column min-vh-100">
  <!-- Top row with title and home icon -->
  <div class="intro-header-row">
    <div class="home-icon-container">
      <a href="{{ url_for('home') }}">
        <img src="{{ url_for('static', filename='images/home.png') }}" alt="Home" title="Restart" class="home-icon">
      </a>
    </div>
    <h1 class="main-title intro-title">Caf√©Craft</h1>
    <div class="home-icon-container">
    </div>
  </div>

  <!-- Three column layout for main content -->
  <div class="intro-content">
    <!-- User Column (Left) -->
    <div class="character-column">
      <img src="{{ url_for('static', filename='images/user_tired.png') }}" alt="User" class="character-portrait">
      <div class="pixel-font character-name">{{ name }}</div>

      <!-- Coffee Level -->
      <div class="coffee-level mb-5">
        {% for i in range(6) %}
        {% if i < caffeine_level %} <img src="{{ url_for('static', filename='images/coffee_beans.png') }}"
          alt="Filled Bean" class="coffee-bean">
          {% else %}
          <img src="{{ url_for('static', filename='images/coffee_beans.png') }}" alt="Empty Bean"
            class="coffee-bean bean-empty">
          {% endif %}
          {% endfor %}
      </div>

      <!-- Backpack -->
      <div class="backpack">
        <div class="pixel-font backpack-title text-center">BACKPACK</div>
        <div class="backpack-grid">
          {% for i in range(8) %}
          <div class="backpack-slot"></div>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- Crafting Column (Middle) -->
    <div class="crafting-column">
      <div class="pixel-font crafting-title">CRAFTING TABLE</div>

      <div class="crafting-table">
        <div class="crafting-grid">
          {% for i in range(9) %}
          <div class="crafting-slot"></div>
          {% endfor %}
        </div>
        <div class="crafting-arrow">
          <img src="{{ url_for('static', filename='images/crafting-arrow.png') }}" alt="Arrow" class="arrow">
        </div>
        <div class="result-slot"></div>
      </div>

      <!-- Continue button -->
      <div class="mt-auto d-flex justify-content-center p-4">
        <a href="{{ url_for('recipes') }}" class="continue-button">Continue</a>
      </div>
    </div>

    <!-- Dr. Coffee Column (Right) -->
    <!-- Dr. Coffee Column (Right) -->
    <div class="character-column d-flex flex-column align-items-center">
      <img src="{{ url_for('static', filename='images/dr_coffee.png') }}" alt="Dr. Coffee" class="character-portrait">
      <div class="pixel-font character-name">Dr. Coffee</div>

      <!-- Empty coffee level for spacing -->
      <div class="coffee-level mb-4"></div>

      <!-- Instruction aligned with backpack -->
      <div class="pixel-font crafting-instructions text-center" style="margin-top: 90px; max-width: 220px;">
        Drag items from your backpack into the crafting table.
        Your crafted drink will appear in the result slot!
      </div>
    </div>


  </div>
  {% endblock %}